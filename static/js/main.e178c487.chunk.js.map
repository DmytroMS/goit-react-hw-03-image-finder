{"version":3,"sources":["App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","servises/api-services.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChangeQuery","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","warn","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","toggleModal","handleSetLargeImageURL","largeImageURL","src","webformatURL","onClick","alt","ImageGallery","images","map","id","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackDropClick","event","target","window","addEventListener","removeEventListener","createPortal","children","axios","defaults","baseURL","getPictures","nextQuery","page","get","then","res","data","hits","App","showModal","isLoading","handleSearchForm","getImages","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","status","loadMorePicsBttn","prevProps","prevQuery","renderLoadMoreBttn","length","s","position","transition","Flip","autoClose","theme","loaderwrapper","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e178c487.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__C4fiO\",\"loaderwrapper\":\"App_loaderwrapper__HI6KJ\"};","import react, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleChangeQuery = (e) => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n    // [e.currentTarget.name]: e.currentTarget.value,\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === \"\") {\r\n      return toast.warn(\"Please, specify your search\");\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({\r\n      query: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.query}\r\n            onChange={this.handleChangeQuery}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import react from \"react\";\r\n\r\nfunction ImageGalleryItem({\r\n  image,\r\n  toggleModal,\r\n  handleSetLargeImageURL,\r\n  largeImageURL,\r\n}) {\r\n  const handleClick = (e) => {\r\n    toggleModal();\r\n    handleSetLargeImageURL({ largeImageURL });\r\n  };\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={image.webformatURL}\r\n        onClick={handleClick}\r\n        alt=\"\"\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import react from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, toggleModal, handleSetLargeImageURL }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map((image) => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          toggleModal={toggleModal}\r\n          largeImageURL={image.largeImageURL}\r\n          handleSetLargeImageURL={handleSetLargeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import react from \"react\";\r\n\r\nfunction Button({ onLoadMore }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import react, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackDropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23079700-bbc75e3a6b7c3c448487aea29';\r\n\r\nexport function getPictures({ nextQuery, page }) {\r\n  return axios\r\n    .get(\r\n      `?image_type=photo&orientation=horizontal&q=${nextQuery}&page=${page}&per_page=12&key=${API_KEY}`\r\n    )\r\n    .then((res) => res.data.hits)\r\n    \r\n}\r\n\r\n\r\n","import Searchbar from \"./components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\r\nimport Button from \"./components/Button/Button\";\r\nimport { Component } from \"react\";\r\nimport Modal from \"./components/Modal/Modal\";\r\nimport { getPictures } from \"./servises/api-services\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from \"./App.module.css\";\r\nimport { ToastContainer, Flip } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: \"\",\r\n    hits: [],\r\n    showModal: false,\r\n    largeImageURL: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n  };\r\n\r\n  handleSearchForm = (query) => {\r\n    this.setState({ query });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = this.state.query;\r\n    const page = this.state.page;\r\n\r\n    if (nextQuery !== prevQuery) {\r\n      this.setState({ page: 1, hits: [] });\r\n      this.getImages({ nextQuery: nextQuery, page: 1 });\r\n    }\r\n\r\n    if (page !== prevState.page && page !== 1) {\r\n      this.getImages({ nextQuery: nextQuery, page: page });\r\n    }\r\n  }\r\n\r\n  getImages = (nextQuery, page) => {\r\n    getPictures(nextQuery, page)\r\n      .then((data) => {\r\n        this.setState((prevState) => ({\r\n          hits: [...prevState.hits, ...data],\r\n        }));\r\n      })\r\n      .then(() => {\r\n        return window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState((state) => ({\r\n      showModal: !state.showModal,\r\n    }));\r\n  };\r\n\r\n  handleSetLargeImageURL = (largeImageURL) => {\r\n    this.setState(largeImageURL);\r\n  };\r\n\r\n  loadMorePicsBttn = () => {\r\n    this.setState({ isLoading: true });\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n   this.setState({ isLoading: false });\r\n  };\r\n\r\n  render() {\r\n    const { showModal, largeImageURL, isLoading, hits } = this.state;\r\n    const renderLoadMoreBttn = hits.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.handleSearchForm} />\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          transition={Flip}\r\n          autoClose={3000}\r\n          theme={\"dark\"}\r\n        />\r\n        <ImageGallery\r\n          images={hits}\r\n          toggleModal={this.toggleModal}\r\n          handleSetLargeImageURL={this.handleSetLargeImageURL}\r\n        />\r\n\r\n        {renderLoadMoreBttn && <Button onLoadMore={this.loadMorePicsBttn} />}\r\n\r\n        <div className={s.loaderwrapper}>\r\n          {isLoading && (\r\n            <Loader\r\n              type=\"Rings\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n              timeout={3000}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}